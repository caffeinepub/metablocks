{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Build an online game called \"Metablocks\" featuring multiple gameplay modes: endless runner, city builder, farming, indoor/minigames, car/racing, and battle/combat.",
  "architectural_notes": [
    "Online multiplayer/online connectivity required."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "imageRequirements": "## Required Images\n- Metablocks logo in a blocky/isometric game style (metablocks-logo.dim_512x512.png)\n- Wide hub background illustration with a stylized city/farm/track/arena collage (metablocks-hub-bg.dim_1920x1080.png)\n- Endless Run mode icon, blocky runner silhouette (icon-endless-run.dim_256x256.png)\n- City Builder mode icon, blocky skyline/building (icon-city-builder.dim_256x256.png)\n- Farming mode icon, blocky crop/field (icon-farming.dim_256x256.png)\n- Indoor mode icon, blocky puzzle/controller (icon-indoor.dim_256x256.png)\n- Car mode icon, blocky car/track (icon-car.dim_256x256.png)\n- Battle mode icon, blocky sword/shield (icon-battle.dim_256x256.png)",
  "existing_features": [
    {
      "id": "feature-create-the-core-app-structure-for-an-online-game-named-metablocks-with-a-main-hub-screen-that-lets-a-signed-in-user-choose-between-these-game-modes-endless-run-city-builder-farming-indoor-minigames-car-racing-and-battle",
      "title": "Create the core app structure for an online game named \"Metablocks\" with a main hub screen that lets a signed-in user choose between these game modes: Endless Run, City Builder, Farming, Indoor (minigames), Car (racing), and Battle.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-internet-identity-sign-in-and-show-a-clear-signed-in-signed-out-state-in-the-ui-require-sign-in-before-a-player-can-save-or-load-any-online-game-progress",
      "title": "Implement Internet Identity sign-in and show a clear signed-in / signed-out state in the UI; require sign-in before a player can save or load any online game progress.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-endless-run-mode-as-a-playable-mini-game-with-a-simple-loop-start-running-game-over-scoring-and-coin-rewards-on-game-over-save-the-run-score-and-coins-to-the-backend-for-signed-in-users",
      "title": "Implement the Endless Run mode as a playable mini-game with a simple loop (start, running, game over), scoring, and coin rewards; on game over, save the run score and coins to the backend for signed-in users.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-city-builder-mode-as-a-simple-grid-based-builder-with-placeable-structures-at-least-3-types-that-cost-coins-persist-the-city-layout-online-for-signed-in-users-and-reload-it-on-entry",
      "title": "Implement the City Builder mode as a simple grid-based builder with placeable structures (at least 3 types) that cost coins; persist the city layout online for signed-in users and reload it on entry.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-farming-mode-with-at-least-3-crop-types-a-plant-grow-time-based-harvest-loop-and-coin-rewards-persist-farm-plots-and-crop-timers-online-for-signed-in-users",
      "title": "Implement the Farming mode with at least 3 crop types, a plant → grow (time-based) → harvest loop, and coin rewards; persist farm plots and crop timers online for signed-in users.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-indoor-mode-as-a-small-set-of-at-least-2-minigames-e-g-a-quick-reaction-game-and-a-simple-puzzle-each-with-scoring-and-coin-rewards-persist-best-scores-per-minigame-for-signed-in-users",
      "title": "Implement the Indoor mode as a small set of at least 2 minigames (e.g., a quick reaction game and a simple puzzle), each with scoring and coin rewards; persist best scores per minigame for signed-in users.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-car-mode-as-a-simple-racing-time-trial-mini-game-with-a-track-timer-and-performance-result-best-time-persist-best-time-online-for-signed-in-users",
      "title": "Implement the Car mode as a simple racing/time-trial mini-game with a track, timer, and performance result (best time); persist best time online for signed-in users.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-battle-mode-as-a-turn-based-battle-mini-game-player-vs-cpu-with-basic-stats-hp-attack-and-at-least-3-actions-persist-battle-related-progression-e-g-wins-count-and-best-streak-online-for-signed-in-users",
      "title": "Implement the Battle mode as a turn-based battle mini-game (player vs CPU) with basic stats (HP, attack) and at least 3 actions; persist battle-related progression (e.g., wins count and best streak) online for signed-in users.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-global-leaderboard-screen-that-shows-top-players-per-mode-best-score-or-best-time-depending-on-mode-and-the-current-user-s-rank-when-signed-in",
      "title": "Add a global leaderboard screen that shows top players per mode (best score or best time depending on mode) and the current user’s rank when signed in.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-define-and-apply-a-cohesive-visual-theme-for-metablocks-distinct-style-color-palette-typography-component-styling-across-the-hub-and-all-modes-avoiding-blue-purple-as-the-primary-palette",
      "title": "Define and apply a cohesive visual theme for Metablocks (distinct style, color palette, typography, component styling) across the hub and all modes, avoiding blue/purple as the primary palette.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-generated-static-image-assets-for-metablocks-branding-and-ui-logo-hub-background-and-mode-icons-and-render-them-from-frontend-static-assets",
      "title": "Add generated static image assets for Metablocks branding and UI (logo, hub background, and mode icons) and render them from frontend static assets.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Create online game \"Metablocks\" with multiple modes: endless runner, city builder, farming, indoor/minigames, car/racing, and battle/combat.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Add backend persistence for Metablocks player data, keyed by the authenticated user principal: player profile (display name optional), total coins, per-mode best scores, and last played timestamps.",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Metablocks",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}